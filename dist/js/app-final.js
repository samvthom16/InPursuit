(()=>{var t={550:t=>{var e;t.exports=((e={base_url:inpursuitSettings.root}).request=function(t){var s=e.base_url+t.url;null!=t.params&&(s=function(t,e){var s=0;for(var a in e)t+=0==s?"?":"&",t+=a+"="+e[a],s++;return t}(s,t.params));var a={"X-WP-Nonce":inpursuitSettings.nonce};("post"==t.method?axios.post(s,t.data,{headers:a}):"delete"==t.method?axios.delete(s,{data:t.data,headers:a}):axios.get(s,{headers:a})).then((function(e){"function"==typeof t.callbackFn&&t.callbackFn(e)}))},e)},719:(t,e,s)=>{var a=s(550),n=s(703);t.exports=Vue.component("inpursuit-choropleth-map",{template:"<div data-behaviour='choropleth-map'><div id='map'></div></div>",data:()=>({data:{},map_jsons:{}}),methods:{drawMarkers:function(t){var e=this.data;if(null==e.markers)return"";var s=L.markerClusterGroup({iconCreateFunction:function(t){var e=0,s=t.getAllChildMarkers();for(var a in s)null!=s[a].options.icon.options.count&&(e+=parseInt(s[a].options.icon.options.count));return L.divIcon({className:"inpursuit-icon",html:"<span>"+e+"</span>"})}});for(var a in e.markers){var n=e.markers[a];if(null!=n.lat&&null!=n.lng){var i=L.divIcon({className:"inpursuit-icon",html:"<span>"+n.html+"</span>",iconUrl:n.icon,count:n.html}),o=L.marker([n.lat,n.lng],{icon:i});null!=n.link&&o.on("click",(function(t){window.open(n.link)})),null!=n.popup&&o.bindPopup(n.popup),s.addLayer(o)}}s.addTo(t)},styleRegion:function(t){return{fillColor:"#311B92",weight:1,opacity:.4,color:"black",dashArray:"1",fillOpacity:.8}},drawRegions:function(t,e){var s=this.data;L.geoJson(e,{style:{color:s["region-lines"].color?s["region-lines"].color:"#000000",weight:s["region-lines"].weight?s["region-lines"].weight:1,opacity:s["region-lines"].opacity?s["region-lines"].opacity:1,fillColor:"#ffffff",fillOpacity:.8}}).addTo(t),L.geoJson(e,{style:this.styleRegion,filter:function(t){return!1}}).addTo(t)},drawMap:function(){var t=this.data,e=t.map.desktop.zoom,s=t.map.desktop.lat,a=t.map.desktop.lng,n=jQuery(window).width();n<500?e=t.map.mobile.zoom:n<768&&(e=t.map.tablet.zoom);var i=L.map("map").setView([s,a],e);for(var o in null==t.map.base_url&&(t.map.base_url="https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"),new L.TileLayer(t.map.base_url,{minZoom:e,maxZoom:18,attribution:t.map.attribution,opacity:1}).addTo(i),this.map_jsons)this.drawRegions(i,this.map_jsons[o]);this.drawMarkers(i)},getRegionsData:function(){var t=this;a.request({url:n.regions,callbackFn:function(e){t.map_jsons=e.data,t.drawMap()}})},getMapData:function(){var t=this;a.request({url:n.map,callbackFn:function(e){t.data=e.data}})}},created:function(){this.getMapData(),this.getRegionsData()}})},804:(t,e,s)=>{var a=s(550);t.exports=Vue.component("add-comment",{template:"<div><button type='button' class='button' @click='openForm()'>Add Comment</button><div class='thickbox-modal' :class='status'><div class='thickbox-modal-content'><header>Add Comment<button type='button' class='close-btn' @click='closeForm()'>&times;</button></header><p><textarea v-model='comment.comment'></textarea></p><p><button type='button' class='button' @click='saveForm()'>Submit</button><span class='spinner' :class='{active: loading}'></span></p></div></div></div>",props:["comment_id","post_id"],data:function(){return{loading:!1,status:"closed",comment:{}}},methods:{getUrl:function(){var t=endpoints.comments;return this.comment_id&&(t+=this.comment_id),t},openForm:function(){this.status="open"},closeForm:function(){this.status="closed"},saveForm:function(){var t=this.comment;if(t.post=this.post_id,t.comment){this.loading=!0;var e=this;a.request({method:"post",url:this.getUrl(),data:t,callbackFn:function(t){e.loading=!1,e.status="closed",e.$parent.refreshPosts(),e.comment.comment=""}})}else alert("Comment cannot be empty!")}}})},908:(t,e,s)=>{var a=s(401);t.exports=Vue.component("inpursuit-dropdown",{props:["settings","placeholder","slug"],mixins:[a],template:'<Dropdown :options="getOptions()" :disabled="false" v-on:selected="debounceEvent" :maxItem="10" :placeholder="placeholder"></Dropdown>',methods:{debounceCallback:function(t){null!=t.id&&(this.$parent.filterTerms[this.slug].value=t.id,null!=this.$parent.page&&(this.$parent.page=1),this.$parent.getPosts())},getOptions:function(){var t=[{id:"0",name:this.placeholder}],e=this.slug;if(null!=this.settings[e])for(var s in this.settings[e])t.push({id:s,name:this.settings[e][s]});return t}}})},611:(t,e,s)=>{var a=s(842),n=s(597);t.exports=Vue.component("inpursuit-event-card",{props:["post"],mixins:[a,n],template:"<div class='inpursuit-member-card inpursuit-event-title'><inpursuit-event-progress :percentage='post.attendants_percentage'></inpursuit-event-progress><div><h3><a :href='post.edit_url'>{{ post.title.rendered }}</a></h3><p class='inpursuit-text-muted'>{{ genderAgeText(post) }}</p><p class='inpursuit-location-text' v-if='post.location.length > 0'><span class='dashicons dashicons-location'></span>{{ locationText(post) }}</p><p class=''>Was added {{ post.date | moment }}</p></div></div>",methods:{getPermalink(){return"/events-"+this.post.id}}})},429:t=>{t.exports=Vue.component("inpursuit-event-progress",{props:["percentage"],template:'<div class="participation-wrapper"><div class="single-chart"><svg viewBox="0 0 36 36" class="circular-chart blue"><path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" /><path class="circle" :stroke-dasharray="stroke()" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" /><text x="18" y="20.35" class="attending-percentage">{{ html() }}</text></svg></div></div>',methods:{html:function(){return this.percentage+"%"},stroke:function(){return this.percentage+", 100"}}})},510:t=>{t.exports=Vue.component("inpursuit-featured-image",{props:["image_url"],template:"<div class='inpursuit-featured-image'><img :src='image_url' /></div>"})},221:(t,e,s)=>{var a=s(703),n=s(842),i=s(550);t.exports=Vue.component("latest-updates",{props:["per_page","post_type"],mixins:[n],template:'<div><div v-for="post in posts" style="margin-bottom:20px;"><h4 style="margin: 0;"><a :href="post.edit_url">{{ post.title.rendered }}</a></h4><p style="margin: 0;">Was added {{ post.date | moment }} by {{ post.author_name }}</p></div></div>',data:function(){return{posts:[]}},methods:{getPosts:function(){var t=this,e=a.members;"inpursuit-events"==this.post_type&&(e=a.history),i.request({url:e,params:{per_page:this.per_page},callbackFn:function(e){t.posts=e.data}})}},created:function(){this.getPosts()}})},938:(t,e,s)=>{var a=s(842),n=s(597);t.exports=Vue.component("inpursuit-member-card",{props:["post"],mixins:[a,n],template:"<div class='inpursuit-member-card inpursuit-member-title'><inpursuit-featured-image :image_url='post.featured_image'></inpursuit-featured-image><div><h3><a :href='post.edit_url'>{{ post.title.rendered }}</a></h3><p class='inpursuit-text-muted'>{{ genderAgeText(post) }}</p><p class='inpursuit-location-text' v-if='post.location.length > 0'><span class='dashicons dashicons-location'></span>{{ locationText(post) }}</p><p class=''>Was added {{ post.date | moment }}</p></div></div>",methods:{getPermalink(){return"/members-"+this.post.id}}})},224:t=>{t.exports=Vue.component("inpursuit-page-pagination",{props:["total_pages"],template:'<nav aria-label="Page navigation example" v-if="getPages().length > 1"><ul class="inpursuit-pagination"><li class="page-item"><button type="button" class="page-link" v-if="$parent.page != 1" @click="$parent.page--"> Previous </button></li><li class="page-item"><button type="button" class="page-link" :class="{active: $parent.page === pageNumber}" v-for="pageNumber in getPages()" @click="$parent.page = pageNumber"> {{pageNumber}} </button></li><li class="page-item"><button type="button" @click="$parent.page++" v-if="$parent.page < getPages().length" class="page-link"> Next </button></li></ul><p class="inpursuit-text-muted" style="margin-top:0">Showing total of {{ $parent.total }} items</p></nav>',methods:{getPages:function(){for(var t=[],e=1;e<=this.total_pages;e++)t.push(e);return t}}})},86:(t,e,s)=>{var a=s(401);t.exports=Vue.component("inpursuit-search-text",{props:["searchQuery"],mixins:[a],template:'<input type="text" name="search" @input="debounceEvent" placeholder="Search" />',methods:{debounceCallback:function(t){this.$parent.searchQuery=t.target.value,this.$parent.getPosts()}}})},308:()=>{Vue.component("special-event",{props:["title","value","slug"],data:function(){return{showFlag:!1}},template:'<div><label><input type="checkbox" name="flag" v-model="showFlag" />Add {{ title }}</label><p v-if="showFlag"><input :name="slug" :value="value" type="date" /></p></div>',created:function(){0!=this.value&&(this.showFlag=!0)}})},305:(t,e,s)=>{var a=s(842);t.exports=Vue.component("timeline-event",{props:["post"],mixins:[a],template:'<div class="content"><h4>{{post.date | moment }}<span class="spinner" :class="{active: loading}"></span></h4><p>{{ getTitle() }}</p><div class="post-terms"><span class="badge" :class="term.taxonomy" v-for="term in post.terms">{{ term.name }}</span></div><button v-if="post.type == \'comment\'" type="button" @click="deleteItem()" class="button delete-button">Delete</button></div>',data:function(){return{loading:!1}},methods:{getTitle:function(){return"comment"==this.post.type?this.post.text:this.post.title.rendered},deleteItem:function(){var t=this;if(confirm("Are you sure you want to delete this?")){var e="inpursuit/v1/comments/"+this.post.id;t.loading=!0,API().request({method:"delete",url:e,callbackFn:function(e){t.loading=!1,t.$parent.refreshPosts()}})}}}})},154:t=>{t.exports=Vue.component("timeline",{props:["member_id","per_page"],template:'<div><add-comment :comment_id="0" :post_id="member_id"></add-comment><div class="inpursuit-timeline" style="margin-top:20px;margin-left: 20px;"><div class="container-right" :class="post.type" v-for="post in posts"><timeline-event :post="post"></timeline-event></div></div><p><span class="spinner" :class="{active: loading}"></span></p><p v-if="page < total_pages"><button type="button" class="button" @click="page++">Load More</button></p></div>',data:function(){return{posts:[],loading:!1,pages:[],page:1,total_pages:0}},methods:{getUrl:function(){var t=endpoints.history;return this.member_id&&(t+="/"+this.member_id),t},getPosts:function(){var t=this;this.loading=!0,API().request({url:this.getUrl(),params:{page:this.page,per_page:this.per_page},callbackFn:function(e){for(var s in e.data)t.posts.push(e.data[s]);t.total_pages=e.headers["x-wp-totalpages"],t.loading=!1}})},refreshPosts:function(){this.posts=[],this.getPosts()}},created:function(){this.getPosts()},watch:{page(t){this.page=t,this.getPosts()}}})},506:(t,e,s)=>{var a={"./choropleth.js":719,"./comments.js":804,"./dropdown.js":908,"./event-card.js":611,"./event-progress.js":429,"./featured-image.js":510,"./latest-updates.js":221,"./member-card.js":938,"./pagination.js":224,"./search-text.js":86,"./special-event.js":308,"./timeline-event.js":305,"./timeline.js":154};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=506},703:t=>{t.exports={members:"wp/v2/inpursuit-members",events:"wp/v2/inpursuit-events",settings:"inpursuit/v1/settings",history:"inpursuit/v1/history",comments:"inpursuit/v1/comments",map:"inpursuit/v1/map",regions:"inpursuit/v1/regions"}},401:t=>{t.exports={data:()=>({debounce:null}),methods:{debounceCallback:function(t){},debounceEvent:function(t){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.debounceCallback(t)}),600)}}}},842:(t,e,s)=>{var a=s(703),n=s(550);t.exports={data:function(){return{settings:{}}},filters:{moment:function(t){return moment(t).fromNow()}},methods:{getSettings:function(){var t=this;n.request({url:a.settings,callbackFn:function(e){t.settings=e.data}})}}}},935:(t,e,s)=>{var a=s(703);t.exports={data:()=>({url:a.events,filterTerms:{event_type:{slug:"event_type",label:"All Event Types"},location:{slug:"location",label:"All Locations"}}})}},597:(t,e,s)=>{var a=s(703);t.exports={data:()=>({url:a.members,filterTerms:{gender:{slug:"gender",label:"All Gender"},member_status:{slug:"member_status",label:"All Status"},location:{slug:"location",label:"All Locations"}}}),methods:{genderAgeText:function(t){var e=null!=t.gender?t.gender:"",s=null!=t.age?t.age:"",a=[],n="";return e.length&&a.push(e),s.length&&a.push(s+" Years"),a.length&&(n=a.join(", ")),n},locationText:function(t){return t.location.join(", ")}}}},697:(t,e,s)=>{s(703);var a=s(550);t.exports={data:function(){return{posts:[],total:0,total_pages:0,page:1,loading:!1,searchQuery:"",per_page:6,url:"",order:"asc",orderby:"title"}},methods:{resetPagination:function(t){this.total_pages=t.headers["x-wp-totalpages"],this.total=t.headers["x-wp-total"]},getPosts:function(){var t=this,e=t.getDefaultParams();t.loading=!0,e=this.addFilterParams(e),a.request({url:this.url,params:e,callbackFn:function(e){t.resetPagination(e),t.posts=e.data,t.loading=!1}})},getDefaultParams:function(){return{search:this.searchQuery,page:this.page,per_page:this.per_page,order:this.order,orderby:this.orderby}},addFilterParams:function(t){for(var e in this.filterTerms){var s=this.filterTerms[e].value;null!=s&&(t[e]=s)}return t}},watch:{page(t){this.getPosts()}},created:function(){this.getPosts(),this.getSettings()}}},761:(t,e,s)=>{var a=s(943),n=[{path:"/",component:a.home},{path:"/dashboard",component:a.dashboard},{path:"/members",component:a.members},{path:"/events",component:a.events}];t.exports=n},943:(t,e,s)=>{var a,n,i,o,r;t.exports=(a=s(842),n=s(597),i=s(935),o=s(697),(r={}).home=Vue.component("home",{template:"<div>Hello World</div>",created:function(){this.$router.push("/dashboard")}}),r.dashboard=Vue.component("template-dashboard",{template:"<div class='inpursuit-grid3' style='margin-top: 30px;'><div class='inpursuit-dashboard'><h4 class='inpursuit-dashboard-title'>Recent Members</h4><latest-updates per_page='5' post_type='inpursuit-members'></latest-updates></div><div class='inpursuit-dashboard'><h4 class='inpursuit-dashboard-title'>Recent Events</h4><latest-updates per_page='5' post_type='inpursuit-events'></latest-updates></div><div class='inpursuit-dashboard'><h4 class='inpursuit-dashboard-title'>Demographic</h4><inpursuit-choropleth-map></inpursuit-choropleth-map></div></div>"}),r.members=Vue.component("template-members",{mixins:[a,o,n],template:'<div><p class="inpursuit-search-filters"><inpursuit-search-text :searchQuery="searchQuery"></inpursuit-search-text><inpursuit-dropdown v-for="term in filterTerms" :key="term.slug" :settings="settings" :slug="term.slug" :placeholder="term.label"></inpursuit-dropdown><span class="spinner" :class="{active: loading}"></span></p><div class="inpursuit-grid"><inpursuit-member-card :key="post.id" :post="post" v-for="post in posts"></inpursuit-member-card></div><p v-if="posts.length < 1">No information was found.</p><inpursuit-page-pagination :total_pages="total_pages"></inpursuit-page-pagination></div>',data:()=>({per_page:9})}),r.events=Vue.component("template-events",{mixins:[a,o,i],template:'<div><p class="inpursuit-search-filters"><inpursuit-search-text :searchQuery="searchQuery"></inpursuit-search-text><inpursuit-dropdown v-for="term in filterTerms" :settings="settings" :slug="term.slug" :placeholder="term.label"></inpursuit-dropdown><span class="spinner" :class="{active: loading}"></span></p><div class="inpursuit-grid"><inpursuit-event-card :key="post.id" :post="post" v-for="post in posts"></inpursuit-event-card></div><p v-if="posts.length < 1">No information was found.</p><inpursuit-page-pagination :total_pages="total_pages"></inpursuit-page-pagination></div>',data:()=>({per_page:9,orderby:"date",order:"desc"})}),r)}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{Vue.use(Dropdown),Vue.use(VueRouter);var t=s(761),e=new VueRouter({routes:t}),a=["choropleth","comments","dropdown","event-card","event-progress","featured-image","latest-updates","member-card","pagination","search-text","special-event","timeline-event","timeline"];for(var n in a)s(506)("./"+a[n]+".js");new Vue({el:"#inpursuit-app",router:e})})()})();